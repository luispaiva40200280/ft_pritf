# **************************************************************************** #
#                                   FT_PRINTF                                  #
# **************************************************************************** #

NAME        = libftprintf.a
CC          = cc
CFLAGS      = -Wall -Wextra -Werror
AR          = ar rcs
RM          = rm -f

SRC = ft_printf.c ft_utilites.c ft_utilities_hex_uns.c


OBJ         = $(SRC:.c=.o)

# ---------------------------------------------------------------------------- #
#                                  COLORS + STYLE                              #
# ---------------------------------------------------------------------------- #
GREEN   = \033[1;32m
YELLOW  = \033[1;33m
BLUE    = \033[1;34m
RED     = \033[1;31m
MAGENTA = \033[1;35m
RESET   = \033[0m
BOLD    = \033[1m

SPIN = "|/-\\"

# ---------------------------------------------------------------------------- #
#                                   RULES                                      #
# ---------------------------------------------------------------------------- #

all: start $(NAME) end

start:
	@echo ""
	@echo "$(MAGENTA)๐ Starting FT_PRINTF compilation...$(RESET)"
	@echo "$(YELLOW)โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ$(RESET)"
	@sleep 0.2

%.o: %.c ft_printf.h
	@printf "$(BLUE)โ๏ธ  Compiling:$(RESET) %-20s " $<
	@i=0; \
	while [ $$i -lt 10 ]; do \
		printf "\b$$(echo $(SPIN) | cut -c $$((($$i%4)+1)))"; \
		sleep 0.05; \
		i=$$((i+1)); \
	done; \
	printf "\b$(GREEN)โ$(RESET)\n"
	@$(CC) $(CFLAGS) -c $< -o $@

$(NAME): $(OBJ)
	@$(AR) $(NAME) $(OBJ)
	@echo "$(GREEN)๐ฏ $(NAME) built successfully!$(RESET)"
	@echo "$(YELLOW)โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ$(RESET)"

end:
	@echo "$(MAGENTA)โจ FT_PRINTF ready to printf your life away! โจ$(RESET)"
	@echo ""

clean:
	@$(RM) $(OBJ)
	@echo "$(YELLOW)๐งน Object files cleaned.$(RESET)"

fclean: clean
	@$(RM) $(NAME)
	@echo "$(RED)๐ฅ $(NAME) removed.$(RESET)"

re: fclean all

# ---------------------------------------------------------------------------- #
#                                   FUN STUFF                                  #
# ---------------------------------------------------------------------------- #

party:
	@echo "$(MAGENTA)๐๐ Let's celebrate your clean code! ๐๐$(RESET)"
	@echo "Youโve just recompiled $(BOLD)ft_printf$(RESET) like a pro!"

# ---------------------------------------------------------------------------- #
#                                 PHONY TARGETS                                #
# ---------------------------------------------------------------------------- #

.PHONY: all clean fclean re start end party
